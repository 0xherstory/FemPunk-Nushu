# 页面调整更新文档 1018

<aside>
💡

- **删除原页面1&2，页面结构简化：**首页 → 画布页 → 其他功能页
- **新增展示页（首页）** - 展示平台介绍和精选作品
- **钱包连接时机调整**：从入口前置改为需要时触发（购买/藏品页点击按钮时）
- **购买页新增**：兑换码输入功能
</aside>

## 🗺️ 页面结构图

```
[页面0：展示页/首页]
        ↓
  点击"进入创作"
        ↓
[页面1：画布页] ←→ 导航栏切换 ←→ [页面2：购买页]
        ↕                              ↕
    [页面3：藏品页]                [连接钱包弹窗]
        ↕
    [页面4：社区页]

```

**导航栏逻辑**：

- 展示页无导航栏
- 进入画布页后，导航栏固定在顶部
- 用户可在画布页、购买页、藏品页、社区页之间自由切换

---

## 📄 详细页面设计

### 页面0：展示页（首页）

**页面目标**

作为产品门户，吸引用户了解产品，展示平台精选作品

**框架图**

```
┌─────────────────────────────────────────┐
│                                         │
│              fempunk                    │
│                                         │
│      Web3协作绘画平台 · 传承女书文化      │
│   Web3 Collaborative Painting Platform  │
│                                         │
│  ┌───────────────────────────────────┐  │
│  │                                   │  │
│  │       [精选作品展示画面]           │  │
│  │                                   │  │
│  │       代表性的协作艺术作品          │  │
│  │                                   │  │
│  └───────────────────────────────────┘  │
│                                         │
│     [✨ 进入创作 Start Creating →]      │
│                                         │
├─────────────────────────────────────────┤
│                                         │
│          往下滑动查看更多作品             │
│          ↓  ↓  ↓                        │
│                                         │
├─────────────────────────────────────────┤
│                                         │
│  🎨 社区创作藏品  Community Artworks    │
│                                         │
│  ┌────────┐  ┌────────┐  ┌────────┐    │
│  │[作品1] │  │[作品2] │  │[作品3] │    │
│  │        │  │        │  │        │    │
│  │        │  │        │  │        │    │
│  │ 0.0038 │  │ 0.0038 │  │ 0.0038 │    │
│  │  ETH   │  │  ETH   │  │  ETH   │    │
│  │        │  │        │  │        │    │
│  │ [购买] │  │ [购买] │  │ [购买] │    │
│  └────────┘  └────────┘  └────────┘    │
│                                         │
│  ┌────────┐  ┌────────┐  ┌────────┐    │
│  │[作品4] │  │[作品5] │  │[作品6] │    │
│  │        │  │        │  │        │    │
│  │        │  │        │  │        │    │
│  │ [购买] │  │ [购买] │  │ [购买] │    │
│  └────────┘  └────────┘  └────────┘    │
│                                         │
│  ┌────────┐  ┌────────┐  ┌────────┐    │
│  │[作品13]│  │[作品14]│  │[作品15]│    │
│  │        │  │        │  │        │    │
│  │        │  │        │  │        │    │
│  │ [购买] │  │ [购买] │  │ [购买] │    │
│  └────────┘  └────────┘  └────────┘    │
│                                         │
│     [✨ 进入创作 Start Creating →]      │
│                                         │
└─────────────────────────────────────────┘

```

**交互逻辑**

1. **首屏展示**
    1. 顶部：平台名称和介绍
    2. 中间：精选作品大图
    3. 底部："进入创作"按钮
2. **向下滚动**
    1. 显示作品：
        - 作品缩略图
        - 作品主题名称
        - 价格
        - "购买"按钮
3. **点击"进入创作"按钮**
    1. 跳转到页面1（画布页）
    2. 页面底部的"进入创作"按钮功能相同
4. **点击作品的"购买"按钮**
    1. 检查钱包连接状态
    2. 未连接 → 弹出连接钱包弹窗
    3. 已连接 → 唤起MetaMask支付
    4. 支付成功 → 提示"购买成功！作品已添加到您的藏品"

---

### 页面1：画布页（核心页面）

**页面目标**

提供协作绘画功能，展示每日主题和女书字

**框架图**

```
┌─────────────────────────────────────────────────────────┐
│  fempunk        🎨  🎨  🛒  🖼️  💜                     │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌──────────────────┐  ┌──────────────────────┐        │
│  │  协作画布         │  │  📅 今日主题          │        │
│  │  Collaborative   │  │  Today's Theme       │        │
│  │  Canvas          │  │                      │        │
│  │                  │  │  2025.10.18          │        │
│  │                  │  │                      │        │
│  │                  │  │  春天的花园           │        │
│  │                  │  │  Spring Garden       │        │
│  │   [画布区域]      │  │                      │        │
│  │                  │  │  用您的颜色描绘春日... │        │
│  │                  │  │                      │        │
│  │                  │  ├──────────────────────┤        │
│  │                  │  │  ✍️ 今日女书字        │        │
│  │                  │  │  Today's NüShu       │        │
│  │                  │  │                      │        │
│  │                  │  │  ┌────────┐          │        │
│  │                  │  │  │   春   │          │        │
│  ├──────────────────┤  │  └────────┘          │        │
│  │  🎨 我的颜色：    │  │                      │        │
│  │  My Colors:      │  │  女书"春"字           │        │
│  │                  │  │  "Spring" - Life     │        │
│  │  ■ ■ ■          │  │                      │        │
│  │                  │  │  [🎨 拥有更多颜色]    │        │
│  └──────────────────┘  └──────────────────────┘        │
│                                                         │
└─────────────────────────────────────────────────────────┘

```

**交互逻辑**

1. **首次进入画布页**
    1. 检查钱包连接状态
    2. 未连接 → **不弹窗**，“我的颜色处”显示"连接钱包获取随机颜色"提示
    3. 已连接 → 正常显示画布和颜色选择器
2. **绘画功能**
    1. 点击颜色块 → 切换当前画笔颜色（选中态加粗边框）
    2. 在画布上拖动鼠标 → 绘制线条
    3. 实时同步其他用户的绘画
3. **点击"拥有更多颜色"**
    1. 跳转到页面2（购买页）
4. **导航栏功能**
    1. 🎨 画布：当前页
    2. 🛒 购买：跳转到购买页
    3. 🖼️ 藏品：跳转到藏品页
    4. 💜 社区：跳转到社区页

---

### 页面2：购买页

**页面目标**

展示可购买的颜色NFT，提供购买和兑换功能

**框架图**

```
┌─────────────────────────────────────────┐
│  fempunk        🎨  🎨  🛒  🖼️  💜     │
├─────────────────────────────────────────┤
│                                         │
│  🎨 购买颜色NFT                          │
│  Buy Color NFT                          │
│                                         │
│  ┌───────────────────────────────┐      │
│  │  今日价格                      │      │
│  │  Today's Price                │      │
│  │                               │      │
│  │  0.0001 ETH                   │      │
│  │                               │      │
│  │  价格浮动（昨日参考：0.00006）  │      │
│  │  Price Fluctuates             │      │
│  └───────────────────────────────┘      │
│                                         │
│  选择您喜欢的颜色                        │
│  Choose Your Favorite Color             │
│                                         │
│  ┌────┐  ┌────┐  ┌────┐  ┌────┐        │
│  │#C4 │  │#F8 │  │#4E │  │#45 │        │
│  │4569│  │B500│  │CDC4│  │B7D1│        │
│  └────┘  └────┘  └────┘  └────┘        │
│                                         │
│  ┌────┐  ┌────┐  ┌────┐  ┌────┐        │
│  │#96 │  │#DD │  │#BC │  │#88 │        │
│  │CEB4│  │A15E│  │6C25│  │60D0│        │
│  └────┘  └────┘  └────┘  └────┘        │
│                                         │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━          │
│                                         │
│  🎁 使用兑换码获取颜色                   │
│  Use Redemption Code                   │
│                                         │
│  ┌───────────────────────────────┐      │
│  │  输入兑换码                    │      │
│  │  Enter Redemption Code        │      │
│  │                               │      │
│  │  [兑换码输入框_______________] │      │
│  │                               │      │
│  │  [✨ 兑换 Redeem]              │      │
│  └───────────────────────────────┘      │
│                                         │
│  [💳 购买选中的颜色]  [← 返回画布]       │
│                                         │
└─────────────────────────────────────────┘

```

**交互逻辑**

1. **选择颜色购买**
    1. 点击颜色块 → 添加选中边框
    2. 点击"购买选中的颜色"：
        - 检查是否选中颜色 → 未选中提示"请先选择一个颜色"
        - 检查钱包连接状态：
            - **未连接** → 弹出连接钱包弹窗
            - **已连接** → 唤起MetaMask支付
        - 支付成功 → 提示"成功购买颜色 {color}！"
        - 更新"我的颜色"列表
        - 从可购买列表中移除已购买颜色
2. **兑换码功能**
    1. 在兑换码输入框输入兑换码
    2. 点击"兑换"按钮：
        - 检查钱包连接状态：
            - **未连接** → 弹出连接钱包弹窗
            - **已连接** → 验证兑换码（后端接口）
        - 兑换码有效 → 自动发放对应颜色NFT
        - 提示"兑换成功！颜色已添加到您的藏品"
        - 兑换码无效 → 提示"兑换码无效或已使用"
3. **点击"返回画布"**
    1. 返回页面1（画布页）

---

### 页面3：藏品页

**页面目标**

展示用户拥有的NFT资产和参与的作品

**框架图**

```
┌─────────────────────────────────────────┐
│  fempunk        🎨  🎨  🛒  🖼️  💜     │
├─────────────────────────────────────────┤
│                                         │
│  🖼️ 我的藏品                            │
│  My Collection                          │
│                                         │
│  我的颜色NFT                             │
│  My Color NFTs                          │
│                                         │
│  ┌────────┐  ┌────────┐  ┌────────┐    │
│  │        │  │        │  │        │    │
│  │ [颜色] │  │ [颜色] │  │ [颜色] │    │
│  │        │  │        │  │        │    │
│  │ #FF6B9D│  │ #C44569│  │ #F8B500│    │
│  │  NFT   │  │  NFT   │  │  NFT   │    │
│  │ Color  │  │ Color  │  │ Color  │    │
│  └────────┘  └────────┘  └────────┘    │
│                                         │
│  我参与的作品                            │
│  My Artworks                            │
│                                         │
│  ┌───────────────────────────────┐      │
│  │                               │      │
│  │  您今天参与了"春天的花园"的创作 │      │
│  │  You participated in          │      │
│  │  "Spring Garden" today        │      │
│  │                               │      │
│  │  ⏰ 画布将在零点关闭并结算贡献度 │      │
│  │  Canvas closes at midnight    │      │
│  │                               │      │
│  └───────────────────────────────┘      │
│                                         │
│  [← 返回画布 Back to Canvas]            │
│                                         │
└─────────────────────────────────────────┘

```

**交互逻辑**

1. **进入藏品页**
    1. 检查钱包连接状态：
        - **未连接** → 弹出连接钱包弹窗
        - **已连接** → 显示用户的颜色NFT和参与作品
2. **查看NFT**
    1. 悬停显示详细信息
    2. 点击可查看链上记录（未来功能）
3. **点击"返回画布"**
    1. 返回页面1（画布页）

---

### 页面4：社区页

**页面目标**

社区入口和联系方式，引导用户关注公众号

**框架图**

```
┌─────────────────────────────────────────┐
│  fempunk        🎨  🎨  🛒  🖼️  💜     │
├─────────────────────────────────────────┤
│                                         │
│  💜 fempunk Community                   │
│                                         │
│  [开发中 Under Development]             │
│                                         │
│  ┌─────────────────┐                    │
│  │                 │                    │
│  │                 │                    │
│  │       📱        │                    │
│  │                 │                    │
│  │  [二维码占位符] │                    │
│  │                 │                    │
│  │                 │                    │
│  └─────────────────┘                    │
│                                         │
│  关注我们的公众号                        │
│  Follow Our Official Account            │
│                                         │
│  扫描上方二维码关注                      │
│  获取最新活动信息和女书文化知识          │
│  Scan QR code to follow us              │
│                                         │
│  ┌───────────────────────────────┐      │
│  │  💌 联系我们                   │      │
│  │  Contact Us                   │      │
│  │                               │      │
│  │  如需申请邀请码或商务合作      │      │
│  │  请通过公众号联系我们          │      │
│  │  For invitations or           │      │
│  │  partnerships contact us      │      │
│  │  via official account         │      │
│  │                               │      │
│  └───────────────────────────────┘      │
│                                         │
│  [← 返回画布 Back to Canvas]            │
│                                         │
└─────────────────────────────────────────┘

```

**交互逻辑**

1. **二维码扫描**
    1. 展示公众号二维码
    2. 扫描后可关注公众号
2. **点击"返回画布"**
    1. 返回页面1（画布页）

---

## 🔌 连接钱包弹窗（全局组件）

**触发时机**

在以下情况下弹出连接钱包弹窗：

1. 在展示页点击作品的"购买"按钮（未连接钱包时）
2. 在购买页点击"购买选中的颜色"（未连接钱包时）
3. 在购买页点击"兑换"按钮（未连接钱包时）
4. 在藏品页首次进入（未连接钱包时）

**弹窗框架图**

```
        ┌───────────────────────────┐
        │                           │
        │    连接您的Web3钱包        │
        │  Connect Your Web3 Wallet │
        │                           │
        │   连接后即可开始使用平台   │
        │   功能并获得随机颜色NFT    │
        │                           │
        │  [🔗 连接钱包]             │
        │   Connect Wallet          │
        │                           │
        │  [✕ 取消]                 │
        │                           │
        └───────────────────────────┘

```

**交互逻辑**

1. **点击"连接钱包"**
    1. 唤起MetaMask钱包
    2. 连接成功：
        - 关闭弹窗
        - 提示"连接成功！"
        - 继续完成之前的操作（购买/兑换/查看藏品）
2. **点击"取消"**
    1. 关闭弹窗
    2. 返回当前页面